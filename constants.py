import os.path
import sys
from pathlib import Path

from sdk.models.chain import arbitrum, optimism

EVM_PRIVATE_KEYS_PATH = "data/evm_private_keys.txt"
STARKNET_PRIVATE_KEYS_PATH = "data/starknet_private_keys.txt"
PROXIES_PATH = "data/proxies.txt"
WITHDRAWAL_ADDRESSES_PATH = "data/withdrawal_addresses.txt"
SALTS_PATH = "data/salts.txt"
DATABASE_PATH = "data/database.json"
DATABASE_DATA_EXCEL_PATH = "data/excel/data.xlsx"
DATABASE_ERRORS_EXCEL_PATH = "data/excel/errors.xlsx"

BRAAVOS_PROXY_CLASS_HASH = 0x03131fa018d520a037686ce3efddeab8f28895662f019ca3ca18a626650f7d1e
BRAAVOS_IMPLEMENTATION_CLASS_HASH = 0x5aa23d5bb71ddaa783da7ea79d405315bafa7cf0387a74f4593578c3e9e6570

CAIRO_0_ARGENTX_PROXY_CLASS_HASH = 0x025EC026985A3BF9D0CC1FE17326B245DFDC3FF89B8FDE106542A3EA56C5A918
CAIRO_1_ARGENTX_PROXY_CLASS_HASH = 0x1a736d6ed154502257f02b1ccdf4d9d1089f80811cd6acad48e6b6a9d1f2003
ARGENTX_IMPLEMENTATION_CLASS_HASH = 0x33434AD846CDD5F23EB73FF09FE6FDDD568284A0FB7D1BE20EE482F044DABE2

STARKNET_DMAIL_CONTRACT_ADDRESS = "0x454f0bd015e730e5adbb4f080b075fdbf55654ff41ee336203aa2e1ac4d4309"
STARKNET_NFT_MARKETPLACE = "0x51734077ba7baf5765896c56ce10b389d80cdcee8622e23c0556fb49e82df1b"
STARKNET_MYSWAP_CONTRACT_ADDRESS = "0x10884171baf1914edc28d7afb619b40a4051cfae78a094a55d230f19e944a28"
STARKNET_JEDISWAP_CONTRACT_ADDRESS = "0x41fd22b238fa21cfcf5dd45a8548974d8263b3a531a60388411c5e230f97023"
STARKNET_TENKSWAP_CONTRACT_ADDRESS = "0x7a6f98c03379b9513ca84cca1373ff452a7462a3b61598f0af5bb27ad7f76d1"
STARKNET_SITHSWAP_CONTRACT_ADDRESS = "0x28c858a586fa12123a1ccb337a0a3b369281f91ea00544d0c086524b759f627"
STARKNET_AVNU_CONTRACT_ADDRESS = "0x4270219d365d6b017231b52e92b3fb5d7c8378b05e9abc97724537a80e93b0f"
STARKNET_FIBROUS_CONTRACT_ADDRESS = "0x01b23ed400b210766111ba5b1e63e33922c6ba0c45e6ad56ce112e5f4c578e62"
STARKNET_QUANTUM_LEAP_CONTRACT_ADDRESS = "0x00b719f69b00a008a797dc48585449730aa1c09901fdbac1bc94b3bdc287cf76"
STARKNET_MY_IDENTITY_CONTRACT_ADDRESS = "0x05dbdedc203e92749e2e746e2d40a768d966bd243df04a6b712e222bc040a9af"
STARKNET_STARKVERSE_CONTRACT_ADDRESS = "0x060582df2cd4ad2c988b11fdede5c43f56a432e895df255ccd1af129160044b8"
STARKNET_ZKLEND_CONTRACT_ADDRESS = "0x04c0a5193d58f74fbace4b74dcf65481e734ed1714121bdc571da345540efa05"
STARKNET_STARKGATE_CONTRACT_ADDRESS = "0x73314940630fd6dcda0d772d4c972c4e0a9946bef9dabf4ef84eda8ef542b82"
STARKNET_ORBITER_CONTRACT_ADDRESS = "0x173f81c529191726c6e7287e24626fe24760ac44dae2a1f7e02080230f8458b"
STARKNET_LAYERSWAP_CONTRACT_ADDRESS = "0x19252b1deef483477c4d30cfcc3e5ed9c82fafea44669c182a45a01b4fdb97a"
STARKNET_LAYERSWAP_WATCHDOG_ADDRESS = "0x5f5b269a57ec59a5fedf10f0f81cbbb7fbe005d3c9f0e0273601a122338f08a"

STARKNET_ETH_TOKEN_ADDRESS = "0x49d36570d4e46f48e99674bd3fcc84644ddd6b96f7c741b1562b82f9e004dc7"
STARKNET_USDC_TOKEN_ADDRESS = "0x53c91253bc9682c04929ca02ed00b3e423f6710d2ee7e0d5ebb06f3ecf368a8"
STARKNET_USDT_TOKEN_ADDRESS = "0x68f5c6a61780768455de69077e07e89787839bf8166decfbf92b645209c0fb8"
STARKNET_DAI_TOKEN_ADDRESS = "0xda114221cb83fa859dbdb4c44beeaa0bb37c7537ad5ae66fe5e0efd20e6eb3"

STARKNET_ORBITER_WITHHOLDING_FEE = 800000000000000
ARBITRUM_ORBITER_WITHHOLDING_FEE = 1200000000000000

COINGECKO_TOKEN_IDS = {
    STARKNET_ETH_TOKEN_ADDRESS: "ethereum",
    STARKNET_USDC_TOKEN_ADDRESS: "usd-coin",
    STARKNET_USDT_TOKEN_ADDRESS: "tether",
    STARKNET_DAI_TOKEN_ADDRESS: "dai"
}

STARKNET_TOKEN_NAMES = {
    STARKNET_ETH_TOKEN_ADDRESS: "ETH",
    STARKNET_USDC_TOKEN_ADDRESS: "USDC",
    STARKNET_USDT_TOKEN_ADDRESS: "USDT",
    STARKNET_DAI_TOKEN_ADDRESS: "DAI"
}

STARKNET_MYSWAP_POOL_IDS = {
    1: [STARKNET_ETH_TOKEN_ADDRESS, STARKNET_USDC_TOKEN_ADDRESS],
    2: [STARKNET_ETH_TOKEN_ADDRESS, STARKNET_DAI_TOKEN_ADDRESS],
    4: [STARKNET_ETH_TOKEN_ADDRESS, STARKNET_USDT_TOKEN_ADDRESS],
    5: [STARKNET_USDC_TOKEN_ADDRESS, STARKNET_USDT_TOKEN_ADDRESS]
}

STARKNET_SWAP_TOKEN_PAIRS = [
    frozenset([STARKNET_ETH_TOKEN_ADDRESS, STARKNET_USDC_TOKEN_ADDRESS]),
    frozenset([STARKNET_ETH_TOKEN_ADDRESS, STARKNET_DAI_TOKEN_ADDRESS]),
    frozenset([STARKNET_ETH_TOKEN_ADDRESS, STARKNET_USDT_TOKEN_ADDRESS])
]

STARKNET_TOKENS = [
    STARKNET_ETH_TOKEN_ADDRESS,
    STARKNET_USDC_TOKEN_ADDRESS,
    STARKNET_USDT_TOKEN_ADDRESS,
    STARKNET_DAI_TOKEN_ADDRESS
]

STARKNET_COLLECTOR_COINGECKO_TOKEN_IDS = {
    STARKNET_USDC_TOKEN_ADDRESS: "usd-coin",
    STARKNET_USDT_TOKEN_ADDRESS: "tether",
    STARKNET_DAI_TOKEN_ADDRESS: "dai"
}

STARKNET_COLLECTOR_TOKENS = [
    STARKNET_USDC_TOKEN_ADDRESS,
    STARKNET_USDT_TOKEN_ADDRESS,
    STARKNET_DAI_TOKEN_ADDRESS
]

STARKNET_DECIMALS = {
    STARKNET_ETH_TOKEN_ADDRESS: 18,
    STARKNET_USDC_TOKEN_ADDRESS: 6,
    STARKNET_USDT_TOKEN_ADDRESS: 6,
    STARKNET_DAI_TOKEN_ADDRESS: 18
}

if getattr(sys, "frozen", False):
    ROOT_DIR = Path(sys.executable).parent.absolute()
else:
    ROOT_DIR = Path(__file__).parent.absolute()

EVM_ABIS_PATH = os.path.join(ROOT_DIR, "sdk/evm/abis")

EVM_ORBITER_ABI = os.path.join(EVM_ABIS_PATH, "orbiter.json")
EVM_STARKGATE_ABI = os.path.join(EVM_ABIS_PATH, "starkgate.json")

ORBITER_STARKNET_IDENTIFICATION_CODE = 9004
ORBITER_CHAIN_IDS = {
    arbitrum.chain_id: 9002,
    optimism.chain_id: 9007
}

EVM_ORBITER_BRIGDE_ADDRESSES = {
    arbitrum.chain_id: "0xE4eDb277e41dc89aB076a1F049f4a3EfA700bCE8",
    optimism.chain_id: "0xE4eDb277e41dc89aB076a1F049f4a3EfA700bCE8"
}

STARKNET_ORBITER_BRIDGE_ADDRESSES = {
    arbitrum.chain_id: "0x7b393627bd514d2aa4c83e9f0c468939df15ea3c29980cd8e7be3ec847795f0",
    optimism.chain_id: "0x64a24243f2aabae8d2148fa878276e6e6e452e3941b417f3c33b1649ea83e11"
}

LAYERSWAP_BRIDGE_ADDRESSES = {
    arbitrum.chain_id: "ARBITRUM_MAINNET",
    optimism.chain_id: "OPTIMISM_MAINNET"
}

AVNU_SWAP_BUILD_URL = "https://starknet.api.avnu.fi/swap/v1/build"
AVNU_SWAP_QUOTES_URL = "https://starknet.api.avnu.fi/swap/v1/quotes"

LAYERSWAP_IDENTITY_ENDPOINT = "https://identity-api.layerswap.io/connect/token"
LAYERSWAP_SWAPS_ENDPOINT = "https://bridge-api.layerswap.io//api/swaps"
LAYERSWAP_TRANSFER_TO_ADDRESS_ENDPOINT = "https://bridge-api.layerswap.io//api/deposit_addresses"

LAYERSWAP_DEFAULT_API_HEADERS = {
    "accept": "application/json, text/plain, */*",
    "accept-language": "en-US,en;q=0.9",
    "access-control-allow-origin": "*",
    "cache-control": "no-cache",
    "content-type": "application/x-www-form-urlencoded;charset=UTF-8",
    "pragma": "no-cache",
    "sec-ch-ua": "\"Not.A/Brand\";v=\"8\", \"Chromium\";v=\"114\"",
    "sec-ch-ua-mobile": "?0",
    "sec-ch-ua-platform": "\"Linux\"",
    "sec-fetch-dest": "empty",
    "sec-fetch-mode": "cors",
    "sec-fetch-site": "same-site",
    "Referer": "https://www.layerswap.io/",
    "Referrer-Policy": "strict-origin-when-cross-origin",
    "User-Agent": ""
}

STARKNET_ESTIMATE_MESSAGE_FEE_ENDPOINT = "https://alpha-mainnet.starknet.io/feeder_gateway/estimate_message_fee?blockNumber=pending"
STARKNET_GET_LAST_BLOCK_ENDPOINT = "https://alpha-mainnet.starknet.io/feeder_gateway/get_block?blockNumber=latest"
DMAIL_THEME_API_URL = "https://random-word-api.herokuapp.com/word"

EVM_STARKGATE_BRIDGE_CONTRACT_ADDRESS = "0xae0Ee0A63A2cE6BaeEFFE56e7714FB4EFE48D419"
L1_ENTRY_POINT_SELECTOR = "0x2d757788a8d8d6f21d1cd40bce38a8222d70654214e96ff95d8086e684fbee5"
EVM_STARKGATE_ETH_BRIDGE_CONTRACT_ADDRESS_PAYLOAD = "0x073314940630fd6dcda0d772d4c972c4e0a9946bef9dabf4ef84eda8ef542b82"
EVM_ORBITER_BRIDGE_CONTRACT_ADDRESS = "0xD9D74a29307cc6Fc8BF424ee4217f1A587FBc8Dc"

OKX_CURRENCY = "ETH"
OKX_STARKNET_CHAIN = "Starknet"
OKX_ERC20_CHAIN = "ERC20"
OKX_STARKNET_WITHDRAWAL_FEE = 0.0001
OKX_ERC20_WITHDRAWAL_FEE = 0.00049

STARKNET_ESTIMATED_FEE_MULTIPLIER = 1.2
EVM_ESTIMATED_FEE_MULTIPLIER = 1.2

TX_SIMULATION_VALUE = 1000000000000000
